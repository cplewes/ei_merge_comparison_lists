--- /home/cplewes/dev/ei_merge_comparison_lists/original/lta/src/com/agfa/ris/client/lta/textarea/docks/dockables/ComparisonStudiesDock.java	2025-09-17 14:56:39.203973339 -0600
+++ /home/cplewes/dev/ei_merge_comparison_lists/src/lta/java/com/agfa/ris/client/lta/textarea/docks/dockables/ComparisonStudiesDock.java	2025-09-17 22:17:21.311069796 -0600
@@ -20,6 +20,8 @@
 import com.agfa.ris.client.lta.textarea.studylist.comparison.ComparisonStudySearchAreaController;
 import com.agfa.ris.client.lta.textarea.studylist.comparison.ComparisonTeachingFileListController;
 import com.agfa.ris.client.lta.textarea.studylist.comparison.SearchLocationConfigureContext;
+import com.agfa.ris.client.lta.textarea.controller.DiagnosticOverviewController;
+import com.agfa.ris.client.lta.workspace.controller.DesktopControllerAccessor;
 import com.agfa.ris.client.platform.core.JRisPlatform;
 import com.agfa.ris.common.features.Feature;
 import com.agfa.ris.common.features.FeatureRouter;
@@ -81,9 +83,44 @@
             return;
         }
         if (e.getSource() instanceof ComparisonStudiesDock) {
+            ComparisonStudiesDock dock = (ComparisonStudiesDock)e.getSource();
+
+            // NEW: If the currently selected tab is the main Comparison tab, trigger the same
+            // first-time Added search used when the Added tab is opened. This lets us blend the
+            // Added results into the Comparison list without requiring a user click.
+            if (dock.getSelectedDockable() instanceof ComparisonStudiesDockable) {
+                DiagnosticOverviewController diag =
+                        DesktopControllerAccessor.getDefaultInstance().getDiagnosticOverview();
+                if (diag != null) {
+                    ComparisonAddedStudyListController addedCtrl =
+                            diag.getComposedStudyListController().getComparisonAddedStudyListController();
+                    if (addedCtrl != null && addedCtrl.isFirstTrigger()) {
+                        final Patient patient = addedCtrl.getPrimaryPatient();
+                        SearchLocation searchLocation = SearchLocationConfigureContext.getInstance().getSearchLocation();
+                        if (searchLocation != null) {
+                            SearchLocationConfigureContext.getInstance().tryConnectLocation(
+                                    searchLocation,
+                                    true,
+                                    new SearchLocationConfigureContext.SearchLocationConnectedCallback(){
+                                        @Override
+                                        public void call() {
+                                            ComparisonStudiesDock.this.getSearchAreaController()
+                                                                          .retrieveAllStudiesByPatient(patient, true);
+                                        }
+                                    }
+                            );
+                            addedCtrl.setFirstTrigger(ComparisonAddedStudyListController.trigger.TRIGGERING);
+                        } else {
+                            Properties props = new Properties();
+                            props.put(FIRST_QUERY, addedCtrl.isFirstTrigger());
+                            ws.navigate("comparison.study.searcharea", props);
+                        }
+                    }
+                }
+            }
+
             ComparisonTeachingFileListDockable dockable;
             ComparisonTeachingFileListController listController;
-            ComparisonStudiesDock dock = (ComparisonStudiesDock)e.getSource();
             if (dock.getSelectedDockable() instanceof ComparisonStudiesAddedDockable) {
                 ComparisonStudiesAddedDockable dockable2 = (ComparisonStudiesAddedDockable)dock.getSelectedDockable();
                 ComparisonAddedStudyListController listController2 = dockable2.getStudyListController();
@@ -155,4 +192,4 @@
         this.getKey().setTitle(isAllStudiesEnabled ? Messages.ComparisonStudiesDockableAllStudies_Title : Messages.ComparisonStudiesDockable_Title);
         this.getKey().setName(isAllStudiesEnabled ? Messages.ComparisonStudiesDockableAllStudies_Name : Messages.ComparisonStudiesDockable_Name);
     }
-}
\ No newline at end of file
+}
